<div class="content-home">
    <div class="container">
        <header>
            <h1>Home - Products</h1>
        </header>
        <main>
            <section class="section">
                <h3>Productos</h3>
                <div class="section-body">
                    <div class="products__list">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Título</th>
                                    <th>Precio</th>
                                    <th>Controles</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each data.docs}}
                                <tr>
                                    <td>{{this.id}}</td>
                                    <td>{{this.title}}</td>
                                    <td>${{this.price}}</td>
                                    <td class="td-list">
                                        <a href="/product/{{this._id}}/cart/{{this.currentCartId}}">
                                            <button class="button-icon">
                                                <img src="/api/public/icons/info.svg" title="Ver más...">
                                            </button>
                                        </a>
                                        <button class="button-icon"
                                            onclick="addProduct('{{this.currentCartId}}', '{{this._id}}')">
                                            <img src="/api/public/icons/add.svg" title="Agregar al carrito">
                                        </button>
                                        <button class="button-icon"
                                            onclick="removeProduct('{{this.currentCartId}}', '{{this._id}}')">
                                            <img src="/api/public/icons/delete.svg" title="Quitar del carrito">
                                        </button>
                                    </td>
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                    <a class="btn" href="/" id="btn-refresh-products">Refrescar</a>
                    <a class="btn" href="/real-time-products">Crear un producto</a>
                </div>
            </section>
            <div class="section-area">
                <div class="section-area__order">
                    <span>Ordenamiento</span>
                    <div>
                        {{#if data.prevPage}}
                        <a href="/?page={{data.prevPage}}{{data.sort}}"><button class="btn">Anterior</button></a>
                        {{/if}}

                        {{#if data.hasNextPage}}
                        <a href="/?page={{data.nextPage}}{{data.sort}}"><button class="btn">Siguiente</button></a>
                        {{/if}}

                        <a href="/?page={{data.page}}&sort=asc"><button class="btn">⬇</button></a>
                        <a href="/?page={{data.page}}&sort=desc"><button class="btn">⬆</button></a>
                        <a href="/?page={{data.page}}"><button class="btn">X</button></a>
                    </div>
                    <span>Página {{data.page}} de {{data.totalPages}} ({{data.totalDocs}} documentos)</span>
                    <input type="text" id="cartIdInput" placeholder="Escribe el id del carrito para visualizarlo">
                </div>
            </div>
        </main>
    </div>
    </section>
</div>
</div>

<script src="/api/public/js/products.js"></script>